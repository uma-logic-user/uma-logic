# ğŸ‡ UMA-Logic v2.0 | AIç«¶é¦¬äºˆæƒ³ã‚·ã‚¹ãƒ†ãƒ ï¼ˆå®Œå…¨ç‰ˆï¼‰

**5å¤§è¦ç´ çµ±åˆUMAæŒ‡æ•°**ã«ã‚ˆã‚‹ç§‘å­¦çš„äºˆæƒ³ã¨**å®Œå…¨è‡ªå‹•é‹ç”¨**ã‚’å®Ÿç¾ã—ãŸç«¶é¦¬AIã‚·ã‚¹ãƒ†ãƒ 

---

## ğŸ¯ ä¸»ãªæ©Ÿèƒ½

### âœ… **å®Œå…¨å®Ÿè£…ã•ã‚ŒãŸå…¨æ©Ÿèƒ½**

#### 1. ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»äºˆæƒ³ç”Ÿæˆ
- âœ… netkeibaã‹ã‚‰å®Ÿãƒ‡ãƒ¼ã‚¿ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å–å¾—
- âœ… 5å¤§è¦ç´ çµ±åˆUMAæŒ‡æ•°è¨ˆç®—
  - è¡€çµ±é©æ€§
  - èª¿æ•™è©•ä¾¡
  - æ é †/å±•é–‹
  - é¨æ‰‹/å©èˆ
  - éå»å®Ÿç¸¾
- âœ… S/A/B/Cãƒ©ãƒ³ã‚¯è‡ªå‹•ä»˜ä¸
- âœ… â—â—‹â–²â–³â–³ã®5é ­æ¨å¥¨ãƒãƒ¼ã‚¯

#### 2. è²·ã„ç›®ãƒ»è³‡é‡‘é…åˆ†
- âœ… å…¨åˆ¸ç¨®å¯¾å¿œï¼ˆå˜å‹ãƒ»è¤‡å‹ãƒ»é¦¬é€£ãƒ»é¦¬å˜ãƒ»ä¸‰é€£è¤‡ãƒ»ä¸‰é€£å˜ï¼‰
- âœ… é¦¬ç•ªè¡¨ç¤ºï¼ˆä¾‹: 1-5-12ï¼‰
- âœ… 2ã¤ã®æŠ•è³‡ã‚¹ã‚¿ã‚¤ãƒ«
  - ç·åˆãƒãƒ©ãƒ³ã‚¹æŠ•è³‡Ver
  - é€£å‹è¤‡å¼ãƒ»ä¸€æ’ƒVer
- âœ… äºˆç®—é€£å‹•å‹ã®å‹•çš„é…åˆ†ï¼ˆ1,000å††ã€œ50,000å††ï¼‰

#### 3. WIN5æˆ¦ç•¥
- âœ… æ—¥æ›œæ—¥ã®ã¿è‡ªå‹•ç”Ÿæˆ
- âœ… 3ã¤ã®ãƒ—ãƒ©ãƒ³
  - å …å®Ÿå‹ï¼ˆæœ¬å‘½ã®ã¿ãƒ»100å††ï¼‰
  - ãƒãƒ©ãƒ³ã‚¹å‹ï¼ˆâ—â—‹ã®2é ­æµã—ãƒ»3,200å††ï¼‰
  - æ³¢ä¹±å‹ï¼ˆâ—â—‹+ç©´é¦¬ã®3é ­æµã—ãƒ»24,300å††ï¼‰
- âœ… è³¼å…¥é‡‘é¡ã®è‡ªå‹•è¨ˆç®—

#### 4. çµæœç®¡ç†ãƒ»çµ±è¨ˆ
- âœ… å…¨åˆ¸ç¨®ã®çš„ä¸­åˆ¤å®š
- âœ… æ‰•æˆ»é‡‘é¡ã®è‡ªå‹•å–å¾—
- âœ… ç´¯è¨ˆæç›Šãƒ»å›åç‡ãƒ»çš„ä¸­ç‡
- âœ… åˆ¸ç¨®åˆ¥çµ±è¨ˆ
- âœ… é€±åˆ¥ã‚µãƒãƒªãƒ¼

#### 5. UI/UX
- âœ… ã‚¿ãƒ–æ§‹æˆ
  - ğŸ“… ä»Šé€±ã®äºˆæƒ³ï¼ˆåœŸæ—¥åˆ¥ã‚¿ãƒ–ï¼‰
  - ğŸ“Š çš„ä¸­å®Ÿç¸¾ãƒ»åæ”¯ãƒ¬ãƒãƒ¼ãƒˆ
  - ğŸ“š éå»ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ï¼ˆé€±åˆ¥ï¼‰
  - âš™ï¸ è¨­å®šï¼ˆäºˆç®—ãƒ»ã‚¹ã‚¿ã‚¤ãƒ«ï¼‰
- âœ… ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³
- âœ… Sãƒ©ãƒ³ã‚¯ãƒ¬ãƒ¼ã‚¹ã¯è‡ªå‹•å±•é–‹

#### 6. å®Œå…¨è‡ªå‹•é‹ç”¨
- âœ… GitHub Actionsã«ã‚ˆã‚‹è‡ªå‹•å®Ÿè¡Œ
  - åœŸæ›œ 7:00 â†’ åœŸæ›œäºˆæƒ³å–å¾—
  - åœŸæ›œ 17:00 â†’ åœŸæ›œçµæœæ›´æ–°
  - æ—¥æ›œ 7:00 â†’ æ—¥æ›œäºˆæƒ³å–å¾—
  - æ—¥æ›œ 17:00 â†’ æ—¥æ›œçµæœæ›´æ–°
- âœ… è‡ªå‹•ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥
- âœ… JSTæ—¥ä»˜ç®¡ç†

---

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
uma-logic-v2/
â”œâ”€â”€ app.py                          # Streamlitãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒª
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ scraper.py                 # netkeibaã‚¹ã‚¯ãƒ¬ã‚¤ãƒ‘ãƒ¼
â”‚   â”œâ”€â”€ uma_calculator.py          # UMAæŒ‡æ•°è¨ˆç®—ã‚¨ãƒ³ã‚¸ãƒ³
â”‚   â”œâ”€â”€ fetch_race_data.py         # äºˆæƒ³å–å¾—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â””â”€â”€ update_results.py          # çµæœæ›´æ–°ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ history.json               # å…¨ãƒ¬ãƒ¼ã‚¹å±¥æ­´
â”‚   â”œâ”€â”€ stats.json                 # ç´¯è¨ˆçµ±è¨ˆ
â”‚   â””â”€â”€ win5_strategies.json       # WIN5æˆ¦ç•¥
â”œâ”€â”€ .github/workflows/
â”‚   â””â”€â”€ auto_update.yml            # è‡ªå‹•æ›´æ–°è¨­å®š
â”œâ”€â”€ requirements.txt               # ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md
```

---

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³

```bash
git clone https://github.com/your-username/uma-logic-v2.git
cd uma-logic-v2
```

### 2. ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
pip install -r requirements.txt
```

### 3. åˆå›ãƒ‡ãƒ¼ã‚¿ä½œæˆ

```bash
# dataãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆ
mkdir -p data

# history.jsonã‚’åˆæœŸåŒ–
echo "[]" > data/history.json

# stats.jsonã‚’åˆæœŸåŒ–
cat > data/stats.json << EOF
{
  "total_investment": 0,
  "total_return": 0,
  "total_profit": 0,
  "total_races": 0,
  "hit_count": 0,
  "hit_rate": 0.0,
  "recovery_rate": 0.0,
  "by_ticket_type": {},
  "weekly_summary": {}
}
EOF
```

### 4. åˆå›ãƒ‡ãƒ¼ã‚¿å–å¾—

```bash
python scripts/fetch_race_data.py
```

### 5. Streamlitèµ·å‹•

```bash
streamlit run app.py
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost:8501` ã‚’é–‹ã

---

## âš™ï¸ GitHub Actionsã®è¨­å®š

### ãƒªãƒã‚¸ãƒˆãƒªã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆè¨­å®š

1. GitHubãƒªãƒã‚¸ãƒˆãƒªã®ã€ŒSettingsã€â†’ã€ŒSecrets and variablesã€â†’ã€ŒActionsã€
2. `GITHUB_TOKEN`ã¯è‡ªå‹•ã§è¨­å®šã•ã‚Œã‚‹ãŸã‚è¿½åŠ ä¸è¦

### æ‰‹å‹•å®Ÿè¡Œ

1. GitHubãƒªãƒã‚¸ãƒˆãƒªã®ã€ŒActionsã€ã‚¿ãƒ–
2. ã€ŒUMA-Logic å®Œå…¨è‡ªå‹•æ›´æ–°ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ã€ŒRun workflowã€ã‹ã‚‰æ‰‹å‹•å®Ÿè¡Œå¯èƒ½

---

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

### history.jsonï¼ˆã‚µãƒ³ãƒ—ãƒ«ï¼‰

```json
[
  {
    "race_id": "202602010811",
    "date": "2026-02-01",
    "day_of_week": "åœŸ",
    "week_key": "2026-W05",
    "venue": "ä¸­å±±",
    "race_num": 11,
    "horses": [...],
    "honmei": {...},
    "bets": {...},
    "budget_allocation": {...},
    "result": {...}
  }
]
```

---

## ğŸ› ï¸ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### UMAæŒ‡æ•°ã®èª¿æ•´

`scripts/uma_calculator.py` ã®å„è¨ˆç®—ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç·¨é›†:

```python
def _calc_bloodline(self, horse_data, race_data):
    # è¡€çµ±è©•ä¾¡ãƒ­ã‚¸ãƒƒã‚¯ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
    pass
```

### è³‡é‡‘é…åˆ†ã®å¤‰æ›´

`scripts/fetch_race_data.py` ã® `allocate_budget()` ã‚’ç·¨é›†:

```python
def allocate_budget(bets, total_budget=5000, style="ç·åˆãƒãƒ©ãƒ³ã‚¹æŠ•è³‡Ver"):
    # é…åˆ†æ¯”ç‡ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
    pass
```

---

## âš ï¸ æ³¨æ„äº‹é …

- **éå•†ç”¨åˆ©ç”¨**: å€‹äººã®è¶£å‘³ãƒ»ç ”ç©¶ç›®çš„ã§ã®ä½¿ç”¨ã‚’æ¨å¥¨
- **ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°**: netkeiba.comã®åˆ©ç”¨è¦ç´„ã‚’éµå®ˆã™ã‚‹ã“ã¨
- **ãƒ‡ãƒ¼ã‚¿ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—**: `data/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯å®šæœŸçš„ã«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—

---

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

---

## ğŸ¤ è²¢çŒ®

ãƒã‚°å ±å‘Šãƒ»æ©Ÿèƒ½ææ¡ˆã¯Issueã‹ã‚‰ãŠé¡˜ã„ã—ã¾ã™ï¼

---

**å®Œå…¨è‡ªå‹•é‹ç”¨ã§ã€é€±æœ«ã«ã‚¢ãƒ—ãƒªã‚’é–‹ãã ã‘ã§æœ€æ–°ã®äºˆæƒ³ã¨å®Ÿç¸¾ã‚’ç¢ºèªã§ãã¾ã™ï¼**
